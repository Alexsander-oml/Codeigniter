<?php


namespace App\Controllers;

class Home extends BaseController
{
    public function inicio(): string
    {
        return view('welcome_message');
    }
    public function processarFormulario(){
        $nome = $this->request->getPost('nome');
        $ano_nascimento = $this->request->getPost('ano_nascimento');
        $salario = $this->request->getPost('salario');

        $data['nome'] = $nome;
        $data['ano_nascimento'] = $ano_nascimento;
        $data['salario'] = $salario;
        $idade = 2024 - $ano_nascimento;
        $ida = max(0, min(9, intval(($idade - 14) / 5)));

        $renda = $salario;
        $ren = max(0, min(13, intval(($renda - 1000) / 500)));
        $tabela = [
            0 => [149.52, 156.57, 158.69, 165.04, 169.97, 175.61, 190.03, 193.05, 196.06, 205.63],
            1 => [142.47, 149.52, 151.64, 156.57, 161.51, 167.15, 180.76, 183.63, 186.5, 196.06],
            2 => [135.42, 142.47, 144.59, 149.52, 154.46, 160.1, 171.49, 174.21, 176.94, 186.5],
            3 => [129.78, 135.42, 137.53, 142.47, 147.41, 153.05, 163.77, 166.37, 168.97, 176.94],
            4 => [122.71, 129.78, 131.89, 135.42, 140.35, 146, 156.04, 158.52, 161, 168.97],
            5 => [122.71, 129.78, 131.89, 135.42, 140.35, 146, 156.04, 158.52, 161, 168.97],
            6 => [111.43, 114.25, 116.38, 117.07, 122.02, 127.66, 129.78, 131.84, 133.9, 137.09],
            7 => [111.43, 114.25, 116.38, 117.07, 122.02, 127.66, 129.78, 131.84, 133.9, 137.09],
            8 => [111.43, 114.25, 116.38, 117.07, 122.02, 127.66, 129.78, 131.84, 133.9, 137.09],
            9 => [107.2, 108.61, 110.73, 111.43, 116.38, 122.02, 123.6, 125.56, 127.52, 130.71],
            10 => [107.2, 108.61, 110.73, 111.43, 116.38, 122.02, 123.6, 125.56, 127.52, 130.71],
            11 => [107.2, 108.61, 110.73, 111.43, 116.38, 122.02, 123.6, 125.56, 127.52, 130.71],
            12 => [107.2, 108.61, 110.73, 111.43, 116.38, 122.02, 123.6, 125.56, 127.52, 130.71],
            13 => [101.56, 102.97, 105.08, 105.79, 110.73, 116.38, 117.42, 119.28, 121.14, 124.33]
        ];
        $data["ressarcimento"] = $tabela[$ren][$ida];
        return view('resultados', $data);
    }
}





